<div id="change-password-wrapper">
  <div class="d-flex vh-100 justify-content-center align-items-center">
    <form
      (ngSubmit)="onSubmit(changePasswordForm)"
      #changePasswordForm="ngForm"
      class="w-25 border p-3 rounded-2"
    >
      <h2 class="mb-3">Đổi mật khẩu</h2>
      <div class="mb-3">
        <label for="oldPassword" class="form-label">Mật khẩu</label>
        <input
          type="password"
          name="oldPassword"
          id="oldPassword"
          class="form-control"
          placeholder="Nhập mật khẩu của bạn"
          required
          ngModel
          #oldPassword="ngModel"
        />
        @if (oldPassword.invalid && changePasswordForm.submitted) {
        <span class="text-danger">Bạn chưa nhập mật khẩu!</span>
        }
      </div>
      <div class="mb-3">
        <label for="newPassword" class="form-label">Mật khẩu mới</label>
        <input
          type="password"
          name="newPassword"
          id="newPassword"
          class="form-control"
          placeholder="Nhập mật khẩu mới"
          required
          ngModel
          #newPassword="ngModel"
        />
        @if (newPassword.invalid && changePasswordForm.submitted) {
        <span class="text-danger">Bạn chưa nhập mật khẩu mới!</span>
        }
      </div>
      <div class="mb-3">
        <label for="confirmPassword" class="form-label"
          >Xác minh mật khẩu mới</label
        >
        <input
          type="password"
          name="confirmPassword"
          id="confirmPassword"
          class="form-control"
          placeholder="Xác minh mật khẩu mới"
          required
          ngModel
          #confirmPassword="ngModel"
        />
        @if ((confirmPassword.invalid || !isPasswordMatch) &&
        changePasswordForm.submitted) {
        <span class="text-danger">Mật khẩu mới không trùng khớp!</span>
        }
      </div>
      <div class="text-danger mb-3">{{ changePasswordFailMessage }}</div>
      <button class="btn btn-primary w-100 mb-3">Đổi mật khẩu</button>
      <div class="d-flex justify-content-center">
        <span
          class="back-btn small text-decoration-underline"
          (click)="goBack()"
          >Quay lại</span
        >
      </div>
    </form>
  </div>
  <app-toast
    [toastStatus]="changePasswordStatus"
    [message]="changePasswordMessage"
    [showToast]="changePasswordShowToast"
  ></app-toast>
</div>
